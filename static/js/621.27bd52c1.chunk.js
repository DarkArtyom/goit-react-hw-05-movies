"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[621],{2390:function(e,n,t){t.d(n,{N4:function(){return d},Tg:function(){return s},cI:function(){return g},kh:function(){return b},ts:function(){return f}});var r=t(5861),i=t(4687),a=t.n(i),o=t(1044),u=t(2007),c=t.n(u);function s(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.get("https://api.themoviedb.org/3/trending/movie/day?api_key=7e0fc0f40a1f522dce260b9a97593bef",{signal:n});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,n){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.movieId,e.next=3,o.ZP.get("https://api.themoviedb.org/3/movie/".concat(r,"?api_key=7e0fc0f40a1f522dce260b9a97593bef&language=en-US"),{signal:t});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.filmName,e.next=3,o.ZP.get("https://api.themoviedb.org/3/search/movie?api_key=7e0fc0f40a1f522dce260b9a97593bef&language=en-US&query=".concat(r),{signal:t});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,n){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.movieId,e.next=3,o.ZP.get("https://api.themoviedb.org/3/movie/".concat(r,"/credits?api_key=7e0fc0f40a1f522dce260b9a97593bef&language=en-US"),{signal:t});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,n){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.movieId,e.next=3,o.ZP.get("https://api.themoviedb.org/3/movie/".concat(r,"/reviews?api_key=7e0fc0f40a1f522dce260b9a97593bef&language=en-US"),{signal:t});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}f.propTypes={movieId:c().number.isRequired,signal:c().object.isRequired},d.propTypes={filmName:c().string.isRequired,signal:c().object.isRequired},g.propTypes={movieId:c().number.isRequired,signal:c().object.isRequired},b.propTypes={movieId:c().number.isRequired,signal:c().object.isRequired}},3621:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var r,i,a,o,u,c=t(5861),s=t(885),p=t(4687),f=t.n(p),l=t(2791),d=t(7689),h=t(6731),g=t(168),m=t(4313),b=m.ZP.form(r||(r=(0,g.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n"]))),v=m.ZP.button(i||(i=(0,g.Z)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url('https://www.svgrepo.com/svg/19676/search');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n"]))),x=m.ZP.span(a||(a=(0,g.Z)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  border: 0;\n"]))),y=m.ZP.input(o||(o=(0,g.Z)(["\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),w=m.ZP.div(u||(u=(0,g.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),k=t(9e3),Z=t(184),j=function(e){var n,t=e.onHandleSubmit,r=(0,h.lr)(),i=(0,s.Z)(r,2),a=i[0],o=i[1],u=null!==(n=a.get("query"))&&void 0!==n?n:"";return(0,Z.jsx)(w,{children:(0,Z.jsxs)(b,{onSubmit:function(e){if(e.preventDefault(),""===u.trim())return alert("Enter film for search");t(u)},children:[(0,Z.jsxs)(v,{type:"submit",children:[(0,Z.jsx)(k.Vph,{}),(0,Z.jsx)(x,{children:"Search"})]}),(0,Z.jsx)(y,{type:"text",autocomplete:"off",autoFocus:!0,placeholder:"Search films by name",onChange:function(e){var n;n=e.target.value,o(""!==n?{query:n}:{})}})]})})},q=t(3459),S=t(2390),P=function(){var e=(0,l.useState)(""),n=(0,s.Z)(e,2),t=n[0],r=n[1],i=(0,l.useState)([]),a=(0,s.Z)(i,2),o=a[0],u=a[1],p=(0,d.TH)(),g=(0,h.lr)(),m=(0,s.Z)(g,1)[0];(0,l.useEffect)((function(){var e,n=null!==(e=m.get("query"))&&void 0!==e?e:"";r(n)}),[m]),(0,l.useEffect)((function(){if(t){var e=new AbortController,n=e.signal;return(0,c.Z)(f().mark((function e(){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,S.N4)({filmName:t},n);case 3:0===(r=e.sent).data.results.length?alert("Sorry, there are no films with this word"):u(r.data.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))(),function(){e.abort()}}}),[t]);return(0,Z.jsxs)("section",{children:[(0,Z.jsx)(j,{onHandleSubmit:function(e){r(e),u([])}}),o.length>0&&(0,Z.jsx)("ul",{children:o.map((function(e){var n=e.id,t=e.title;return(0,Z.jsx)("li",{children:(0,Z.jsx)(q.Fg,{to:"".concat(n),state:{from:p},children:t})},n)}))})]})}}}]);
//# sourceMappingURL=621.27bd52c1.chunk.js.map